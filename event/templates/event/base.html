<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>{% block title %}Event Manager{% endblock %}</title>
    {% load static %}

    <!-- Bootstrap CSS -->
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css">

    <!-- Google Fonts -->
    <link href="https://fonts.googleapis.com/css?family=Satisfy" rel="stylesheet" type="text/css">

    <!-- Custom CSS -->
    <link rel="stylesheet" type="text/css" href="{% static 'event/css/style.css' %}"/>

    <!-- jQuery and Bootstrap JS -->
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.12.0/jquery.min.js"></script>
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.6/js/bootstrap.min.js"></script>

    <!-- Custom JS -->
    <script src="{% static 'event/js/main.js' %}"></script>
</head>

<body style="display:flex; flex-direction:column; min-height:100vh;">
    <nav class="navbar navbar-inverse navbar-fixed-top" style="box-sizing: border-box; position: relative;">
        <div class="container-fluid">

            <!-- Header -->
            <div class="navbar-header">
                <button type="button" class="navbar-toggle" data-toggle="collapse" data-target="#topNavBar">
                    <span class="icon-bar"></span>
                    <span class="icon-bar"></span>
                    <span class="icon-bar"></span>
                </button>
                <a class="navbar-brand" href="{% url 'event:home' %}">Online Event Management</a>
            </div>

            <!-- Items -->
            <div class="collapse navbar-collapse" id="topNavBar">
                <ul class="nav navbar-nav">
                    <li class="{% block events_active %}{% endblock %}">
                        <a href="{% url 'event:home' %}">
                            <span class="glyphicon glyphicon-glass" aria-hidden="true"></span> Events
                        </a>
                    </li>
                   

                    <!-- Wallet Dropdown -->
                    <li class="dropdown {% block wallet_active %}{% endblock %}">
                        <a class="dropdown-toggle" data-toggle="dropdown" href="#">
                            <span class="glyphicon glyphicon-credit-card" aria-hidden="true"></span> Wallet <span class="caret"></span>
                        </a>
                        <ul class="dropdown-menu">
                            <li>
                                    <a class="dropdown-item" href="{% url 'event:add_money' %}">
                                    Add Money
                                </a>
                            </li>
                            <li>
                                    <a class="dropdown-item" href="{% url 'event:withdraw_money' %}">
                                    Withdraw Money
                                </a>
                            </li>
                        </ul>
                    </li>

                    <li class="{% block past_events_active %}{% endblock %}">
                        <a href="{% url 'event:past_events' %}">
                            <span class="glyphicon glyphicon-calendar" aria-hidden="true"></span> Past Events
                        </a>
                    </li>
                </ul>

                <!-- Search Form -->
                <form class="navbar-form navbar-left" role="search" method="get" action="{% url 'event:home' %}">
                    <div class="input-group col-xs-4">
                        <input type="text" class="form-control" name="query" value="{{ request.GET.q }}" style="width:200px">
                        <div class="input-group-btn">
                            <button class="btn btn-default" type="submit">
                                <i class="glyphicon glyphicon-search"></i>
                            </button>
                        </div>
                    </div>
                </form>

                <!-- Right Nav -->
                <ul class="nav navbar-nav navbar-right">  
                     <li class="{% block profile_active %}{% endblock %}">
                        <a href="{% url 'event:user_profile' %}" id="id_profile">
                            <span class="glyphicon glyphicon-user" aria-hidden="true"></span> Profile
                        </a>
                    </li>                  
                    <li>
                        <a href="{% url 'event:logout_user' %}">
                            <span class="glyphicon glyphicon-off" aria-hidden="true"></span> Logout
                        </a>
                    </li>
                </ul>
            </div>
        </div>
    </nav>

    <div style="flex:1 0 auto;">
        {% block body %}
        {% endblock %}
    </div>
    <footer class="footer" style="flex-shrink:0;">
        &copy; {{ year|default:2025 }} Event Management System
    </footer>
</body>
</html>
